# REST API - 깨진 테스트 수정하기
- 기존에 작성했던 테스트중 깨지는 테스트가 발생한다.
- event페이징 테스트
- updateEvent
- getEvent

#### updateEvent
- 깨지는 이유 ?
- 로그를 먼저 살펴보자
    - EventController의 156 Line에서 NullPointerException이 발생한다.
```java
Caused by: java.lang.NullPointerException
	at me.june.restapi.events.EventController.updateEvent(EventController.java:156)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	... 83 more
```

- EventController 의 156 Line
    - event의 Manager가 Null인 상태에서 equals를 호출하기때문에 예외가 발생한다.
        - 기존 Event의 Manager가 Null인 경우 해당 예외가 발생한다.
```java
// 현재 사용자가 이벤트의 오너가 아닐경우 UNAUTHORIZED 응답
if (!existEvent.getManager().equals(account)) {
    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
}
```
