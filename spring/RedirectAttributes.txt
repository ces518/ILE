# Spring - RedirectAttributes

- 컨트롤러에서 다른 컨트롤러 메서드로 redirect시 parameter를 붙여서 전송할때에는 
get방식으로 밖에 하지못한다.
파라메터의 수가 많거나 , 노출되어선 안되는 파라메터의 경우 post방식으로 전달을 해야하는데
post방식으로 전달하지못하기 때문에 문제가발생한다

이를 해결하기위해 RedirectAttributes / FlashMap 객체를 사용하여 
redirect시 편리하게 전송이가능하다.

(Spring 3.1 이상 제공)



@RequestMapping(path="/test")
public String test1(
    HttpServletRequest request,
    RedirectAttributes redirectAttributes){
    
    // 세션에 잠시 담았다가 redirect후 소멸된다. 
    redirectAttributes.addFlashAttribute("param1","1");
    redirectAttributes.addFlashAttribute("param2","1");

    // URL 뒤에 붙여서 보낸다. get방식으로 받는것과 동일하다.
    redirectAttributes.addAttribute("param1","1");
    redirectAttributes.addAttribute("param2","1");
    
    return "redirect:/test2";
}

@RequestMapping(path="/test2")
public String test2(
    HttpServletRequest request,
    RedirectAttributes redirectAttributes){
    
    1. addFlashAttribute > redirect후 소멸된다 (세션기반)
    Map<String,?> redirectMap = RequestContextUtils.getInputFlashMap(request);
    if(redirectMap != null){
        // addFlashAttribute 로 넣어준 녀석들을 꺼내올수있다.
    }

    2. addAttribute 로 넣어준 녀석들을 꺼내올수있따.
    request.getParameter(key);
}