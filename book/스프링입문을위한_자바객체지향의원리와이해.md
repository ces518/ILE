# 스프링입문을위한 자바객체지향의원리와이해

### 메서드 스택
- java.lang : 모든 자바프로그램이 포함하는 패키지
- jvm은 프로그램 가동시 java.lang패키지를 메모리의 스태틱영역에 올린다.
- 개발자가작성한 모든크래스와 임포트 패키지역시 스태틱영역에 올린다.

> - 스태틱영역 : 클래스영역 이라고도한다.
> - 스택영역 : 메서드영역이라고도한다. (중괄호를 만날때마다 하나씩 생성된다.)

- if문은 기존의 스택프레임에 중첩되어 생성된다.
- 외부 스택프레임에서 내부 스택프레임으로 접근은 불가능하지만 역은 가능하다.
- 메서드의 호출이 일어나면 무조건 해당 메서드의 스택프레임이 스택영역에 생성된다.

```java
public class Demo {
    public static void main(String[] args){
      int k = 0;
      firstMethod(k);
    }
    
    public static void firstMethod(int k) {
        k = 10;
    }
}
```
- main 메서드와 firstMethod의 변수 k는 별개의 영역이다.
- firstMethod에서 k에 무슨짓을 하더라도 main method의 k에서는 영향이 가지않는다.
- Call By Value
- 메서드를 호출하면서 인자로 전달되는것은 변수 자체가아니라 변수의 값이 복사되는것이다.

### 전역변수를 사용하지 말것
- 전역변수에 젖아된 값을 파악하기 쉽지않다.
- 멀티스레드 환경에서 문제가 발생한다.
- 전역 변수를 사용하게되면 스레드 안전성이 깨진다고 표현한다.
- 이를 보완하는 방법으로 lock을 거는 방법이 있지만 락을 거는순간 멀티스레드의 장점을 버린것과 같다.

### 멀티프로세스와 멀티스레드의 이해

> 멀티스레드
> - 멀티스레드는 스택영역을 스레드 개수만큼 분할해서 쓰는것이다.

> 멀티프로세스
> - 멀티프로세스는 다수의데이터 저장영역 , 즉 다수의 메모리 구조를 갖는다.

- 멀티프로세스는 각각이 모두 독립적인공간이기때문에 
- 서로간의 참조를 할 수 없지만
- 멀티 스레드는 스택영역만 분할해서 사용하고 힙영역은 공유하기때문에
- 서로간의 참조를 할 수 있다.
- 멀티스레드는 멀티프로세스 대비 메모리를 적게 쓰는 구조이다.
- 요청당 쓰레드 (Servlet) 이 요청당 프로세스 (CGI) 보다 효율적인지 이해가 갈것이다.

