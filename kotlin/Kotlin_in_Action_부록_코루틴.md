# Kotlin in Action

## 코루틴과 Async / Await
- 코틀린 1.3 부터 코루틴이 표준 라이브러리에 정식 포함 되었다.

#### 코루틴이란 ?
`서브루틴의 이해`
- 서브루틴은 여러 명령을 모아 이름을 부여해 반복 호출가능하게 만든 프로그램의 구성요소이다.
- 이는 함수라고 불린다.
- 객체지향 언어에서 메소드도 서브루틴이라고 할 수 있다.
- 서브루틴 호출시마다 **활성 레코드 (active record)** 가 스택에 할당되며 서브루틴 내부의 로컬 변수 등이 초기화 된다.

> 서브루틴이 반환되고 나면 실행중이던 모든 상태를 잃어버린다. 따라서 서브루틴을 반복적으로 호출하더라도 항상 같은 결과를 얻는다.

`멀티태스킹의 이해`
- 멀티태스킹은 여러작업들을 동시에 수행하는것 처럼 보이거나, 동시에 수행하는 것이다.
- 비선점형이란 멀티태스킹의 각 작업을 수행하는 참여자들의 실행을 운영체제가 관여해서 중단시키고 다른 실행을 하게끔 만들수 없다는 의미이다.
- 각 참여자들이 서로 자발적으로 협력해야 비선점형 멀티테스킹이 제대로 동작한다.

- **코루틴** 이란 서로 협력하여 실행을 주고 받으며 동작하는 여러 서브루틴을 말한다.
- 코루틴의 대표격인 **제너레이터 (generator)** 를 예로 들면, 함수 A가 실행 도중 제너레이터인 코루틴 B를 호출하면 A를 실행중인
- 스레드 에서 코루틴 B가 실행된다. 코루틴 B 실행도중 A에게 양보한다. (yield 명령어를 사용하는 경우가 많다.)
- 일반적인 함수와달리 코루틴은 yield 로 실행을 양보했던 지점부터 실행을 이어 나간다.
- 자바스크립트의 generator 함수
