# JPA 기본편

#### JPA란 ?
- Java Persistence API
- 과거에는 테이블에 데이터를 저장및 조회하려면, 복잡한 JDBC 코드로 직접 작성해야했다.
- Mybatis 같은 SQLMapper 가 나온뒤로는 개발코드는 줄었지만, 개발자가 SQL을 직접 작성해야하는 번거로움이 있다.
- JPA가 나온뒤로는 SQL조차 작성하지 않아도 된다.

`JPA를 활용한 간단한 코드`
```java
public class MemberDAO {
    @PersistenceContext
    EntityManager jpa;

    public void save (Member memeber) {
        jpa.persist(member);
    }

    public Member findOne (Long id) {
        return jpa.find(Member.class, id);
    }
}
```

JPA를 활용하면 마치 Java Collection에 객체에 저장하고 사용하는것처럼 단순하게 사용할수 있다.
- JPA가 개발자 대신 적절한 SQL을 만들어 사용한다.

SQL을 하나하나 작성하는것은, 개발 생산성에 매우 안좋을수 밖에 없다.
- 개발 속도, 유지보수 측면에서 이전과 확연하게 차이가 난다.
- JDBC: 손 농사
- Mybatis: 호미 농사
- JPA: 트랙터

#### JPA가 실무에서 어려운 이유
- JPA, Sprign data JPA를 만나면 ?
- SQL 자동화, 수십줄의 코드가 한두줄의 코드로
- 예제는 보통 한 두개로 단순하다.
- 실무는 수십 개 이상의 복잡한 객체와 테이블을 사용한다.

> 객체와 테이블을 잘 설계하고 매핑을 하지못해서 어려운 것이다.

#### 객체와 테이블 설계 매핑
- 객체와 테이블을 제대로 설계하고 매핑하는 방법
- 기본키 외래 키 매핑
- 1:N, N:1, 1:1, N:M 매핑
- 성능까지 고려
- 어떠한 복잡한 시스템도 JPA로 설계 가능

#### JPA 내부 동작 방식 이해
- 내부 동작 방식을 이해하지 못하고 사용
- 내부 동작 방식을 그림과 코드로 학습
- 어떤 SQL을 만들어 내는지 이해
- 언제 SQL을 실행하는지 이해

#### JPA 기본 학습 방법
- 표준스펙만 500페이지로 방대함
- 혼자 공부하기 쉽지 않음

#### JPA를 많이 사용하는가 ?
- 2013 ~ 최근 구글 트랜트 검색량 비교
- 마이바티스, 아이바티스는 하락세, JPA는 상승세
- 추후 2,3년 안에 JPA가 마이바티스를 넘어 점유율을 넘을 것이라는 확신
- 우아한형제들, 쿠팡, 카카오, 네이브 등
- 조 단위 거래금액이 발생하는 다양한 서비스에서 사용 , 검증됨
- 최신 스프링 예제는 JPA기본 적용
- 자바 개발자에게 JPA는 기본 기술
